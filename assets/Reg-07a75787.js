import{_ as h,u as x,r as d,a as t,o as k,b as N,d as p,e as o,w as l,l as _,p as I,i as S}from"./index-7d98706d.js";import{r as R}from"./auth-3a4db3a3.js";import{s as U}from"./request-39338cfd.js";import{s as f}from"./function-call-916183ae.js";const q=r=>(I("data-v-ba97d4d1"),r=r(),S(),r),B={class:"reg"},C=q(()=>p("h1",{class:"app-title"},"提瓦特指南针",-1)),T={style:{margin:"16px"}},A={__name:"Reg",setup(r){const{push:u}=x(),m=d(""),c=d(""),i=d(""),g=async a=>{if(a.password==a.repwd){const e=await R({userName:a.userName,password:a.password});e.code===1?(U(e.data),u({name:"User"})):f({type:"danger",message:e.data})}else f({type:"danger",message:"两次输入的密码不一致"})},v=()=>{u({name:"Home"})};return(a,e)=>{const n=t("van-field"),b=t("van-cell-group"),w=t("van-button"),y=t("van-form"),V=t("router-link");return k(),N("div",B,[C,p("img",{src:"https://upload-bbs.miyoushe.com/upload/2021/08/31/139424659/730535cda0373686c8b66f49dab8deba_7158240903326306030.gif?x-oss-process=image//auto-orient,0/interlace,1/format,gif",alt:"",onClick:v}),o(y,{onSubmit:g},{default:l(()=>[o(b,{inset:""},{default:l(()=>[o(n,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=s=>m.value=s),name:"userName",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),o(n,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),o(n,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=s=>i.value=s),type:"password",name:"repwd",label:"确认密码",placeholder:"再次输入密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),p("div",T,[o(w,{round:"",block:"",type:"primary","native-type":"submit"},{default:l(()=>[_(" 注册 ")]),_:1})])]),_:1}),o(V,{style:{float:"right","margin-right":"20px"},to:{name:"Login"}},{default:l(()=>[_("已有账号,我要登录")]),_:1})])}}},P=h(A,[["__scopeId","data-v-ba97d4d1"]]);export{P as default};
